<!DOCTYPE html>
<html>
    <style>
    .titulo{
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 5em;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10;
    }
    
    </style>
    <script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
    <!-- we import arjs version without NFT but with marker + location based support -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://raw.githack.com/fcor/arjs-gestures/master/dist/gestures.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <body style="margin : 0px; overflow: hidden;">
        <div class="titulo">
            <h1>À Procura do Tritão</h1>
        </div>
        
        <a-scene
            arjs
            embedded
            renderer="logarithmicDepthBuffer: true;"
            vr-mode-ui="enabled: false"
            gesture-detector
            id="scene"
            >
            <a-assets>
                <a-entity cursor position="0 0 -5"></a-entity>
                <audio id="aud1" src="assets/audio/aud1.mp3" preload="auto"></audio>
            </a-assets>

             <!-- Marker: Passaro     Modelo: Passaro-->

            
            <!-- Marker: logo     Modelo: Tritão-->
            <a-marker
                type="pattern"
                url="assets/markers_john/dimmersions_logo.patt"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse;"
                id="markerA"
            >
                <a-entity
                id="bird-model"
                gltf-model="assets/models/tritao/scene.gltf"
                position="0 0 0"
                scale="0.01 0.01 0.01"
                rotation="-45 0 0"
                class="clickable"
                gesture-handler
                animation-mixer="clip: hover;"
                sound="src: #aud1 ;"
                >
                </a-entity>
            </a-marker>
            
             <!-- Marker: Humano     Modelo: Rato-->
             <a-marker
                type="pattern"
                url="assets/markers_john/pattern-dog.patt"
                raycaster="objects: .clickable"
                emitevents="true"
                id="markerB"
            >
            <a-entity
                id="bird-model"
                gltf-model="assets/models/mouse/scene.gltf"
                position="0 0 0"
                scale="0.6 0.6 0.6"
                rotation="-85 0 0"
                class="clickable"
                gesture-handler
                animation-mixer="clip: *;"
                >
                </a-entity>
            </a-marker>
            
            <!-- Marker: Porco     Modelo: Rato-->
            <a-marker
                type="pattern"
                url="assets/markers_john/porco.patt"
                raycaster="objects: .clickable"
                emitevents="true"
                id="markerC"
            >
            <a-entity
                id="bird-model"
                gltf-model="assets/models/mouse/scene.gltf"
                position="0 0 0"
                scale="0.6 0.6 0.6"
                rotation="-85 0 0"
                class="clickable"
                gesture-handler
                animation-mixer="clip: *;"
                >
                </a-entity>
            </a-marker>
            
            <!-- Marker: Pato Modelo: Peixe -->
            <a-marker
                type="pattern"
                url="assets/markers_john/pato.patt"
                raycaster="objects: .clickable"
                emitevents="true"
                id="markerD"
            >
            <a-entity
                id="bird-model"
                gltf-model="assets/models/fish/scene.gltf"
                position="0 0 0"
                scale="0.001 0.001 0.001"
                rotation="-85 0 0"
                class="clickable"
                gesture-handler
                animation-mixer="clip: *;"
                >
                </a-entity>
            </a-marker>
            
            <!-- Marker: Cao Modelo: Arvore -->
            <a-marker
                type="pattern"
                url="assets/markers/pattern-chapim.patt"
                raycaster="objects: .clickable"
                emitevents="true"
                id="markerD"
            >
            <a-entity
                id="bird-model"
                gltf-model="assets/models/tree/scene.gltf"
                position="0 0 0"
                scale="1 1 1"
                rotation="-85 0 0"
                class="clickable"
                gesture-handler
                animation-mixer="clip: *;"
                >
                </a-entity>
            </a-marker>
            
            <a-entity camera></a-entity>
        </a-scene>
        
    </body>
    <script>
    
    var m = document.querySelector('#markerA')
    var n = document.querySelector('#markerC')
    var a = document.querySelector('[sound]');
    
    m.addEventListener("markerFound", (e)=>{
    a.components.sound.playSound();
    console.log("found")
    })

    m.addEventListener("markerLost", (e)=>{
    a.components.sound.stopSound();
    })
    
    n.addEventListener("markerFound", (e)=>{
    console.log("found")
    })
    
    </script>
</html>
